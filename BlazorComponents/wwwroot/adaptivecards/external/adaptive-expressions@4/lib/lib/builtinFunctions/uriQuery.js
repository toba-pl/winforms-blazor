"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const expressionEvaluator_1=require(180),expressionType_1=require(192),functionUtils_1=require(196),functionUtils_internal_1=require(195),returnType_1=require(213);class UriQuery extends expressionEvaluator_1.ExpressionEvaluator{constructor(){super(expressionType_1.ExpressionType.UriQuery,UriQuery.evaluator,returnType_1.ReturnType.String,functionUtils_1.FunctionUtils.validateUnary)}static evaluator(expr,state,options){let value;const{args:args,error:childrenError}=functionUtils_1.FunctionUtils.evaluateChildren(expr,state,options);let error=childrenError;return error||("string"==typeof args[0]?({value:value,error:error}=UriQuery.evalUriQuery(args[0])):error=`${expr} should contain a URI string.`),{value:value,error:error}}static evalUriQuery(uri){let result;const{value:parsed,error:parseError}=functionUtils_internal_1.InternalFunctionUtils.parseUri(uri);let error=parseError;if(!error)try{result=parsed.search}catch(e){error="invalid operation, input uri should be an absolute URI"}return{value:result,error:error}}}exports.UriQuery=UriQuery;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVyaVF1ZXJ5LmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZXhwcmVzc2lvbkV2YWx1YXRvcl8xIiwicmVxdWlyZSIsImV4cHJlc3Npb25UeXBlXzEiLCJmdW5jdGlvblV0aWxzXzEiLCJmdW5jdGlvblV0aWxzX2ludGVybmFsXzEiLCJyZXR1cm5UeXBlXzEiLCJVcmlRdWVyeSIsIkV4cHJlc3Npb25FdmFsdWF0b3IiLCJbb2JqZWN0IE9iamVjdF0iLCJzdXBlciIsIkV4cHJlc3Npb25UeXBlIiwiZXZhbHVhdG9yIiwiUmV0dXJuVHlwZSIsIlN0cmluZyIsIkZ1bmN0aW9uVXRpbHMiLCJ2YWxpZGF0ZVVuYXJ5IiwiZXhwciIsInN0YXRlIiwib3B0aW9ucyIsImFyZ3MiLCJlcnJvciIsImNoaWxkcmVuRXJyb3IiLCJldmFsdWF0ZUNoaWxkcmVuIiwiZXZhbFVyaVF1ZXJ5IiwidXJpIiwicmVzdWx0IiwicGFyc2VkIiwicGFyc2VFcnJvciIsIkludGVybmFsRnVuY3Rpb25VdGlscyIsInBhcnNlVXJpIiwic2VhcmNoIiwiZSJdLCJtYXBwaW5ncyI6IkFBQUEsYUFRQUEsT0FBT0MsZUFBZUMsUUFBUyxhQUFjLENBQUVDLE9BQU8sSUFDdEQsTUFBTUMsc0JBQXdCQyxRQUFRLDBCQUNoQ0MsaUJBQW1CRCxRQUFRLHFCQUMzQkUsZ0JBQWtCRixRQUFRLG9CQUMxQkcseUJBQTJCSCxRQUFRLDZCQUNuQ0ksYUFBZUosUUFBUSxpQkFJN0IsTUFBTUssaUJBQWlCTixzQkFBc0JPLG9CQUl6Q0MsY0FDSUMsTUFBTVAsaUJBQWlCUSxlQUFlSixTQUFVQSxTQUFTSyxVQUFXTixhQUFhTyxXQUFXQyxPQUFRVixnQkFBZ0JXLGNBQWNDLGVBS3RJUCxpQkFBaUJRLEtBQU1DLE1BQU9DLFNBQzFCLElBQUluQixNQUNKLE1BQU1vQixLQUFFQSxLQUFNQyxNQUFPQyxlQUFrQmxCLGdCQUFnQlcsY0FBY1EsaUJBQWlCTixLQUFNQyxNQUFPQyxTQUNuRyxJQUFJRSxNQUFRQyxjQVNaLE9BUktELFFBQ3NCLGlCQUFaRCxLQUFLLEtBQ1RwQixNQUFBQSxNQUFPcUIsTUFBQUEsT0FBVWQsU0FBU2lCLGFBQWFKLEtBQUssS0FHL0NDLFNBQVdKLHFDQUdaLENBQUVqQixNQUFBQSxNQUFPcUIsTUFBQUEsT0FLcEJaLG9CQUFvQmdCLEtBQ2hCLElBQUlDLE9BQ0osTUFBUTFCLE1BQU8yQixPQUFRTixNQUFPTyxZQUFldkIseUJBQXlCd0Isc0JBQXNCQyxTQUFTTCxLQUNyRyxJQUFJSixNQUFRTyxXQUNaLElBQUtQLE1BQ0QsSUFDSUssT0FBU0MsT0FBT0ksT0FFcEIsTUFBT0MsR0FDSFgsTUFBUSx5REFHaEIsTUFBTyxDQUFFckIsTUFBTzBCLE9BQVFMLE1BQUFBLFFBR2hDdEIsUUFBUVEsU0FBV0EiLCJmaWxlIjoiL2hvbWUvdnN0cy93b3JrLzEvcy9saWJyYXJpZXMvYWRhcHRpdmUtZXhwcmVzc2lvbnMvbGliL2J1aWx0aW5GdW5jdGlvbnMvdXJpUXVlcnkuanMifQ==