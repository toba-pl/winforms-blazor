"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const expressionEvaluator_1=require(180),expressionType_1=require(192),functionUtils_1=require(196),returnType_1=require(213);class Flatten extends expressionEvaluator_1.ExpressionEvaluator{constructor(){super(expressionType_1.ExpressionType.Flatten,Flatten.evaluator(),returnType_1.ReturnType.Array,Flatten.validator)}static evaluator(){return functionUtils_1.FunctionUtils.apply(args=>{const array=args[0],depth=args.length>1?args[1]:100;return Flatten.evalFlatten(array,depth)})}static evalFlatten(arr,dept){(!functionUtils_1.FunctionUtils.isNumber(dept)||dept<1)&&(dept=1);let res=JSON.parse(JSON.stringify(arr));const reduceArr=_arr=>_arr.reduce((prevItem,curItem)=>prevItem.concat(curItem),[]);for(let i=0;i<dept;i++){if(!res.some(item=>Array.isArray(item)))break;res=reduceArr(res)}return res}static validator(expression){functionUtils_1.FunctionUtils.validateOrder(expression,[returnType_1.ReturnType.Number],returnType_1.ReturnType.Array)}}exports.Flatten=Flatten;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZsYXR0ZW4uanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJleHByZXNzaW9uRXZhbHVhdG9yXzEiLCJyZXF1aXJlIiwiZXhwcmVzc2lvblR5cGVfMSIsImZ1bmN0aW9uVXRpbHNfMSIsInJldHVyblR5cGVfMSIsIkZsYXR0ZW4iLCJFeHByZXNzaW9uRXZhbHVhdG9yIiwiW29iamVjdCBPYmplY3RdIiwic3VwZXIiLCJFeHByZXNzaW9uVHlwZSIsImV2YWx1YXRvciIsIlJldHVyblR5cGUiLCJBcnJheSIsInZhbGlkYXRvciIsIkZ1bmN0aW9uVXRpbHMiLCJhcHBseSIsImFyZ3MiLCJhcnJheSIsImRlcHRoIiwibGVuZ3RoIiwiZXZhbEZsYXR0ZW4iLCJhcnIiLCJkZXB0IiwiaXNOdW1iZXIiLCJyZXMiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJyZWR1Y2VBcnIiLCJfYXJyIiwicmVkdWNlIiwicHJldkl0ZW0iLCJjdXJJdGVtIiwiY29uY2F0IiwiaSIsInNvbWUiLCJpdGVtIiwiaXNBcnJheSIsImV4cHJlc3Npb24iLCJ2YWxpZGF0ZU9yZGVyIiwiTnVtYmVyIl0sIm1hcHBpbmdzIjoiQUFBQSxhQVFBQSxPQUFPQyxlQUFlQyxRQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0RCxNQUFNQyxzQkFBd0JDLFFBQVEsMEJBQ2hDQyxpQkFBbUJELFFBQVEscUJBQzNCRSxnQkFBa0JGLFFBQVEsb0JBQzFCRyxhQUFlSCxRQUFRLGlCQUk3QixNQUFNSSxnQkFBZ0JMLHNCQUFzQk0sb0JBSXhDQyxjQUNJQyxNQUFNTixpQkFBaUJPLGVBQWVKLFFBQVNBLFFBQVFLLFlBQWFOLGFBQWFPLFdBQVdDLE1BQU9QLFFBQVFRLFdBSy9HTixtQkFDSSxPQUFPSixnQkFBZ0JXLGNBQWNDLE1BQU9DLE9BQ3hDLE1BQU1DLE1BQVFELEtBQUssR0FDYkUsTUFBUUYsS0FBS0csT0FBUyxFQUFJSCxLQUFLLEdBQUssSUFDMUMsT0FBT1gsUUFBUWUsWUFBWUgsTUFBT0MsU0FNMUNYLG1CQUFtQmMsSUFBS0MsUUFDZm5CLGdCQUFnQlcsY0FBY1MsU0FBU0QsT0FBU0EsS0FBTyxLQUN4REEsS0FBTyxHQUVYLElBQUlFLElBQU1DLEtBQUtDLE1BQU1ELEtBQUtFLFVBQVVOLE1BQ3BDLE1BQU1PLFVBQWFDLE1BQVNBLEtBQUtDLE9BQU8sQ0FBQ0MsU0FBVUMsVUFBWUQsU0FBU0UsT0FBT0QsU0FBVSxJQUN6RixJQUFLLElBQUlFLEVBQUksRUFBR0EsRUFBSVosS0FBTVksSUFBSyxDQUUzQixJQURxQlYsSUFBSVcsS0FBTUMsTUFBU3hCLE1BQU15QixRQUFRRCxPQUtsRCxNQUhBWixJQUFNSSxVQUFVSixLQU14QixPQUFPQSxJQUtYakIsaUJBQWlCK0IsWUFDYm5DLGdCQUFnQlcsY0FBY3lCLGNBQWNELFdBQVksQ0FBQ2xDLGFBQWFPLFdBQVc2QixRQUFTcEMsYUFBYU8sV0FBV0MsUUFHMUhkLFFBQVFPLFFBQVVBIiwiZmlsZSI6Ii9ob21lL3ZzdHMvd29yay8xL3MvbGlicmFyaWVzL2FkYXB0aXZlLWV4cHJlc3Npb25zL2xpYi9idWlsdGluRnVuY3Rpb25zL2ZsYXR0ZW4uanMifQ==