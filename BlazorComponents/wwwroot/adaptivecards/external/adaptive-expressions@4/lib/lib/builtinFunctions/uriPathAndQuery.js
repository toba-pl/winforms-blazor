"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const expressionEvaluator_1=require(180),expressionType_1=require(192),functionUtils_1=require(196),functionUtils_internal_1=require(195),returnType_1=require(213);class UriPathAndQuery extends expressionEvaluator_1.ExpressionEvaluator{constructor(){super(expressionType_1.ExpressionType.UriPathAndQuery,UriPathAndQuery.evaluator,returnType_1.ReturnType.String,functionUtils_1.FunctionUtils.validateUnary)}static evaluator(expr,state,options){let value;const{args:args,error:childrenError}=functionUtils_1.FunctionUtils.evaluateChildren(expr,state,options);let error=childrenError;return error||("string"==typeof args[0]?({value:value,error:error}=UriPathAndQuery.evalUriPathAndQuery(args[0])):error=`${expr} should contain a URI string.`),{value:value,error:error}}static evalUriPathAndQuery(uri){let result;const{value:parsed,error:parseError}=functionUtils_internal_1.InternalFunctionUtils.parseUri(uri);let error=parseError;if(!error)try{result=parsed.pathname+parsed.search}catch(e){error="invalid operation, input uri should be an absolute URI"}return{value:result,error:error}}}exports.UriPathAndQuery=UriPathAndQuery;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVyaVBhdGhBbmRRdWVyeS5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImV4cHJlc3Npb25FdmFsdWF0b3JfMSIsInJlcXVpcmUiLCJleHByZXNzaW9uVHlwZV8xIiwiZnVuY3Rpb25VdGlsc18xIiwiZnVuY3Rpb25VdGlsc19pbnRlcm5hbF8xIiwicmV0dXJuVHlwZV8xIiwiVXJpUGF0aEFuZFF1ZXJ5IiwiRXhwcmVzc2lvbkV2YWx1YXRvciIsIltvYmplY3QgT2JqZWN0XSIsInN1cGVyIiwiRXhwcmVzc2lvblR5cGUiLCJldmFsdWF0b3IiLCJSZXR1cm5UeXBlIiwiU3RyaW5nIiwiRnVuY3Rpb25VdGlscyIsInZhbGlkYXRlVW5hcnkiLCJleHByIiwic3RhdGUiLCJvcHRpb25zIiwiYXJncyIsImVycm9yIiwiY2hpbGRyZW5FcnJvciIsImV2YWx1YXRlQ2hpbGRyZW4iLCJldmFsVXJpUGF0aEFuZFF1ZXJ5IiwidXJpIiwicmVzdWx0IiwicGFyc2VkIiwicGFyc2VFcnJvciIsIkludGVybmFsRnVuY3Rpb25VdGlscyIsInBhcnNlVXJpIiwicGF0aG5hbWUiLCJzZWFyY2giLCJlIl0sIm1hcHBpbmdzIjoiQUFBQSxhQVFBQSxPQUFPQyxlQUFlQyxRQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0RCxNQUFNQyxzQkFBd0JDLFFBQVEsMEJBQ2hDQyxpQkFBbUJELFFBQVEscUJBQzNCRSxnQkFBa0JGLFFBQVEsb0JBQzFCRyx5QkFBMkJILFFBQVEsNkJBQ25DSSxhQUFlSixRQUFRLGlCQUk3QixNQUFNSyx3QkFBd0JOLHNCQUFzQk8sb0JBSWhEQyxjQUNJQyxNQUFNUCxpQkFBaUJRLGVBQWVKLGdCQUFpQkEsZ0JBQWdCSyxVQUFXTixhQUFhTyxXQUFXQyxPQUFRVixnQkFBZ0JXLGNBQWNDLGVBS3BKUCxpQkFBaUJRLEtBQU1DLE1BQU9DLFNBQzFCLElBQUluQixNQUNKLE1BQU1vQixLQUFFQSxLQUFNQyxNQUFPQyxlQUFrQmxCLGdCQUFnQlcsY0FBY1EsaUJBQWlCTixLQUFNQyxNQUFPQyxTQUNuRyxJQUFJRSxNQUFRQyxjQVNaLE9BUktELFFBQ3NCLGlCQUFaRCxLQUFLLEtBQ1RwQixNQUFBQSxNQUFPcUIsTUFBQUEsT0FBVWQsZ0JBQWdCaUIsb0JBQW9CSixLQUFLLEtBRzdEQyxTQUFXSixxQ0FHWixDQUFFakIsTUFBQUEsTUFBT3FCLE1BQUFBLE9BS3BCWiwyQkFBMkJnQixLQUN2QixJQUFJQyxPQUNKLE1BQVExQixNQUFPMkIsT0FBUU4sTUFBT08sWUFBZXZCLHlCQUF5QndCLHNCQUFzQkMsU0FBU0wsS0FDckcsSUFBSUosTUFBUU8sV0FDWixJQUFLUCxNQUNELElBQ0lLLE9BQVNDLE9BQU9JLFNBQVdKLE9BQU9LLE9BRXRDLE1BQU9DLEdBQ0haLE1BQVEseURBR2hCLE1BQU8sQ0FBRXJCLE1BQU8wQixPQUFRTCxNQUFBQSxRQUdoQ3RCLFFBQVFRLGdCQUFrQkEiLCJmaWxlIjoiL2hvbWUvdnN0cy93b3JrLzEvcy9saWJyYXJpZXMvYWRhcHRpdmUtZXhwcmVzc2lvbnMvbGliL2J1aWx0aW5GdW5jdGlvbnMvdXJpUGF0aEFuZFF1ZXJ5LmpzIn0=