"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const expressionEvaluator_1=require(180),expressionType_1=require(192),functionUtils_internal_1=require(195),returnType_1=require(213);class Where extends expressionEvaluator_1.ExpressionEvaluator{constructor(){super(expressionType_1.ExpressionType.Where,Where.evaluator,returnType_1.ReturnType.Array,functionUtils_internal_1.InternalFunctionUtils.ValidateLambdaExpression)}static evaluator(expression,state,options){let result;const{value:instance,error:childrenError}=expression.children[0].tryEvaluate(state,options);let error=childrenError;if(!error){const list=functionUtils_internal_1.InternalFunctionUtils.convertToList(instance);if(list){if(result=[],functionUtils_internal_1.InternalFunctionUtils.lambdaEvaluator(expression,state,options,list,(currentItem,r,e)=>(functionUtils_internal_1.InternalFunctionUtils.isLogicTrue(r)&&!e&&result.push(currentItem),!1)),!Array.isArray(instance)){const objResult={};for(const item of result)objResult[item.key]=item.value;result=objResult}}else error=`${expression.children[0]} is not a collection or structure object to run Where`}return{value:result,error:error}}}exports.Where=Where;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndoZXJlLmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZXhwcmVzc2lvbkV2YWx1YXRvcl8xIiwicmVxdWlyZSIsImV4cHJlc3Npb25UeXBlXzEiLCJmdW5jdGlvblV0aWxzX2ludGVybmFsXzEiLCJyZXR1cm5UeXBlXzEiLCJXaGVyZSIsIkV4cHJlc3Npb25FdmFsdWF0b3IiLCJbb2JqZWN0IE9iamVjdF0iLCJzdXBlciIsIkV4cHJlc3Npb25UeXBlIiwiZXZhbHVhdG9yIiwiUmV0dXJuVHlwZSIsIkFycmF5IiwiSW50ZXJuYWxGdW5jdGlvblV0aWxzIiwiVmFsaWRhdGVMYW1iZGFFeHByZXNzaW9uIiwiZXhwcmVzc2lvbiIsInN0YXRlIiwib3B0aW9ucyIsInJlc3VsdCIsImluc3RhbmNlIiwiZXJyb3IiLCJjaGlsZHJlbkVycm9yIiwiY2hpbGRyZW4iLCJ0cnlFdmFsdWF0ZSIsImxpc3QiLCJjb252ZXJ0VG9MaXN0IiwibGFtYmRhRXZhbHVhdG9yIiwiY3VycmVudEl0ZW0iLCJyIiwiZSIsImlzTG9naWNUcnVlIiwicHVzaCIsImlzQXJyYXkiLCJvYmpSZXN1bHQiLCJpdGVtIiwia2V5Il0sIm1hcHBpbmdzIjoiQUFBQSxhQVFBQSxPQUFPQyxlQUFlQyxRQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0RCxNQUFNQyxzQkFBd0JDLFFBQVEsMEJBQ2hDQyxpQkFBbUJELFFBQVEscUJBQzNCRSx5QkFBMkJGLFFBQVEsNkJBQ25DRyxhQUFlSCxRQUFRLGlCQUk3QixNQUFNSSxjQUFjTCxzQkFBc0JNLG9CQUl0Q0MsY0FDSUMsTUFBTU4saUJBQWlCTyxlQUFlSixNQUFPQSxNQUFNSyxVQUFXTixhQUFhTyxXQUFXQyxNQUFPVCx5QkFBeUJVLHNCQUFzQkMsMEJBS2hKUCxpQkFBaUJRLFdBQVlDLE1BQU9DLFNBQ2hDLElBQUlDLE9BQ0osTUFBUW5CLE1BQU9vQixTQUFVQyxNQUFPQyxlQUFrQk4sV0FBV08sU0FBUyxHQUFHQyxZQUFZUCxNQUFPQyxTQUM1RixJQUFJRyxNQUFRQyxjQUNaLElBQUtELE1BQU8sQ0FDUixNQUFNSSxLQUFPckIseUJBQXlCVSxzQkFBc0JZLGNBQWNOLFVBQzFFLEdBQUtLLE1BYUQsR0FUQU4sT0FBUyxHQUNUZix5QkFBeUJVLHNCQUFzQmEsZ0JBQWdCWCxXQUFZQyxNQUFPQyxRQUFTTyxLQUFNLENBQUNHLFlBQWFDLEVBQUdDLEtBQzFHMUIseUJBQXlCVSxzQkFBc0JpQixZQUFZRixLQUFPQyxHQUVsRVgsT0FBT2EsS0FBS0osY0FFVCxLQUdOZixNQUFNb0IsUUFBUWIsVUFBVyxDQUMxQixNQUFNYyxVQUFZLEdBQ2xCLElBQUssTUFBTUMsUUFBUWhCLE9BQ2ZlLFVBQVVDLEtBQUtDLEtBQU9ELEtBQUtuQyxNQUUvQm1CLE9BQVNlLGdCQWpCYmIsU0FBV0wsV0FBV08sU0FBUywwREFxQnZDLE1BQU8sQ0FBRXZCLE1BQU9tQixPQUFRRSxNQUFBQSxRQUdoQ3RCLFFBQVFPLE1BQVFBIiwiZmlsZSI6Ii9ob21lL3ZzdHMvd29yay8xL3MvbGlicmFyaWVzL2FkYXB0aXZlLWV4cHJlc3Npb25zL2xpYi9idWlsdGluRnVuY3Rpb25zL3doZXJlLmpzIn0=