"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const dayjs_1=__importDefault(require(400)),expressionEvaluator_1=require(180),expressionType_1=require(192),functionUtils_1=require(196),returnType_1=require(213);class FormatEpoch extends expressionEvaluator_1.ExpressionEvaluator{constructor(){super(expressionType_1.ExpressionType.FormatEpoch,FormatEpoch.evaluator(),returnType_1.ReturnType.String,FormatEpoch.validator)}static evaluator(){return functionUtils_1.FunctionUtils.applyWithOptionsAndError((args,options)=>{let error,value,arg=args[0],locale=options.locale?options.locale:Intl.DateTimeFormat().resolvedOptions().locale,format=functionUtils_1.FunctionUtils.DefaultDateTimeFormat;if(functionUtils_1.FunctionUtils.isNumber(arg)?arg*=1e3:error=`formatEpoch first argument ${arg} must be a number`,!error){({format:format,locale:locale}=functionUtils_1.FunctionUtils.determineFormatAndLocale(args,3,format,locale));const dateString=new Date(arg).toISOString();value=dayjs_1.default(dateString).locale(locale).utc().format(format)}return{value:value,error:error}})}static validator(expression){functionUtils_1.FunctionUtils.validateOrder(expression,[returnType_1.ReturnType.String,returnType_1.ReturnType.String],returnType_1.ReturnType.Number)}}exports.FormatEpoch=FormatEpoch;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm1hdEVwb2NoLmpzIl0sIm5hbWVzIjpbIl9faW1wb3J0RGVmYXVsdCIsInRoaXMiLCJtb2QiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGF5anNfMSIsInJlcXVpcmUiLCJleHByZXNzaW9uRXZhbHVhdG9yXzEiLCJleHByZXNzaW9uVHlwZV8xIiwiZnVuY3Rpb25VdGlsc18xIiwicmV0dXJuVHlwZV8xIiwiRm9ybWF0RXBvY2giLCJFeHByZXNzaW9uRXZhbHVhdG9yIiwiW29iamVjdCBPYmplY3RdIiwic3VwZXIiLCJFeHByZXNzaW9uVHlwZSIsImV2YWx1YXRvciIsIlJldHVyblR5cGUiLCJTdHJpbmciLCJ2YWxpZGF0b3IiLCJGdW5jdGlvblV0aWxzIiwiYXBwbHlXaXRoT3B0aW9uc0FuZEVycm9yIiwiYXJncyIsIm9wdGlvbnMiLCJlcnJvciIsImFyZyIsImxvY2FsZSIsIkludGwiLCJEYXRlVGltZUZvcm1hdCIsInJlc29sdmVkT3B0aW9ucyIsImZvcm1hdCIsIkRlZmF1bHREYXRlVGltZUZvcm1hdCIsImlzTnVtYmVyIiwiZGV0ZXJtaW5lRm9ybWF0QW5kTG9jYWxlIiwiZGF0ZVN0cmluZyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInV0YyIsImV4cHJlc3Npb24iLCJ2YWxpZGF0ZU9yZGVyIiwiTnVtYmVyIl0sIm1hcHBpbmdzIjoiQUFBQSxhQVFBLElBQUlBLGdCQUFtQkMsTUFBUUEsS0FBS0QsaUJBQW9CLFNBQVVFLEtBQzlELE9BQVFBLEtBQU9BLElBQUlDLFdBQWNELElBQU0sQ0FBRUUsUUFBV0YsTUFFeERHLE9BQU9DLGVBQWVDLFFBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RELE1BQU1DLFFBQVVULGdCQUFnQlUsUUFBUSxVQUNsQ0Msc0JBQXdCRCxRQUFRLDBCQUNoQ0UsaUJBQW1CRixRQUFRLHFCQUMzQkcsZ0JBQWtCSCxRQUFRLG9CQUMxQkksYUFBZUosUUFBUSxpQkFJN0IsTUFBTUssb0JBQW9CSixzQkFBc0JLLG9CQUk1Q0MsY0FDSUMsTUFBTU4saUJBQWlCTyxlQUFlSixZQUFhQSxZQUFZSyxZQUFhTixhQUFhTyxXQUFXQyxPQUFRUCxZQUFZUSxXQUs1SE4sbUJBQ0ksT0FBT0osZ0JBQWdCVyxjQUFjQyx5QkFBeUIsQ0FBQ0MsS0FBTUMsV0FDakUsSUFBSUMsTUFXQXBCLE1BVkFxQixJQUFNSCxLQUFLLEdBQ1hJLE9BQVNILFFBQVFHLE9BQVNILFFBQVFHLE9BQVNDLEtBQUtDLGlCQUFpQkMsa0JBQWtCSCxPQUNuRkksT0FBU3JCLGdCQUFnQlcsY0FBY1csc0JBUzNDLEdBUkt0QixnQkFBZ0JXLGNBQWNZLFNBQVNQLEtBS3hDQSxLQUFZLElBSlpELG9DQUFzQ0Msd0JBT3JDRCxNQUFPLEdBQ0xNLE9BQUFBLE9BQVFKLE9BQUFBLFFBQVdqQixnQkFBZ0JXLGNBQWNhLHlCQUF5QlgsS0FBTSxFQUFHUSxPQUFRSixTQUM5RixNQUFNUSxXQUFhLElBQUlDLEtBQUtWLEtBQUtXLGNBQ2pDaEMsTUFBUUMsUUFBUUwsUUFBUWtDLFlBQVlSLE9BQU9BLFFBQVFXLE1BQU1QLE9BQU9BLFFBRXBFLE1BQU8sQ0FBRTFCLE1BQUFBLE1BQU9vQixNQUFBQSxTQU14QlgsaUJBQWlCeUIsWUFDYjdCLGdCQUFnQlcsY0FBY21CLGNBQWNELFdBQVksQ0FBQzVCLGFBQWFPLFdBQVdDLE9BQVFSLGFBQWFPLFdBQVdDLFFBQVNSLGFBQWFPLFdBQVd1QixTQUcxSnJDLFFBQVFRLFlBQWNBIiwiZmlsZSI6Ii9ob21lL3ZzdHMvd29yay8xL3MvbGlicmFyaWVzL2FkYXB0aXZlLWV4cHJlc3Npb25zL2xpYi9idWlsdGluRnVuY3Rpb25zL2Zvcm1hdEVwb2NoLmpzIn0=