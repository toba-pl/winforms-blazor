"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const expressionEvaluator_1=require(180),expressionType_1=require(192),functionUtils_1=require(196),functionUtils_internal_1=require(195),returnType_1=require(213);class UriHost extends expressionEvaluator_1.ExpressionEvaluator{constructor(){super(expressionType_1.ExpressionType.UriHost,UriHost.evaluator,returnType_1.ReturnType.String,functionUtils_1.FunctionUtils.validateUnary)}static evaluator(expr,state,options){let value;const{args:args,error:childrenError}=functionUtils_1.FunctionUtils.evaluateChildren(expr,state,options);let error=childrenError;return error||("string"==typeof args[0]?({value:value,error:error}=UriHost.evalUriHost(args[0])):error=`${expr} should contain a URI string.`),{value:value,error:error}}static evalUriHost(uri){let result;const{value:parsed,error:parseError}=functionUtils_internal_1.InternalFunctionUtils.parseUri(uri);let error=parseError;if(!error)try{result=parsed.hostname}catch(e){error="invalid operation, input uri should be an absolute URI"}return{value:result,error:error}}}exports.UriHost=UriHost;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVyaUhvc3QuanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJleHByZXNzaW9uRXZhbHVhdG9yXzEiLCJyZXF1aXJlIiwiZXhwcmVzc2lvblR5cGVfMSIsImZ1bmN0aW9uVXRpbHNfMSIsImZ1bmN0aW9uVXRpbHNfaW50ZXJuYWxfMSIsInJldHVyblR5cGVfMSIsIlVyaUhvc3QiLCJFeHByZXNzaW9uRXZhbHVhdG9yIiwiW29iamVjdCBPYmplY3RdIiwic3VwZXIiLCJFeHByZXNzaW9uVHlwZSIsImV2YWx1YXRvciIsIlJldHVyblR5cGUiLCJTdHJpbmciLCJGdW5jdGlvblV0aWxzIiwidmFsaWRhdGVVbmFyeSIsImV4cHIiLCJzdGF0ZSIsIm9wdGlvbnMiLCJhcmdzIiwiZXJyb3IiLCJjaGlsZHJlbkVycm9yIiwiZXZhbHVhdGVDaGlsZHJlbiIsImV2YWxVcmlIb3N0IiwidXJpIiwicmVzdWx0IiwicGFyc2VkIiwicGFyc2VFcnJvciIsIkludGVybmFsRnVuY3Rpb25VdGlscyIsInBhcnNlVXJpIiwiaG9zdG5hbWUiLCJlIl0sIm1hcHBpbmdzIjoiQUFBQSxhQVFBQSxPQUFPQyxlQUFlQyxRQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0RCxNQUFNQyxzQkFBd0JDLFFBQVEsMEJBQ2hDQyxpQkFBbUJELFFBQVEscUJBQzNCRSxnQkFBa0JGLFFBQVEsb0JBQzFCRyx5QkFBMkJILFFBQVEsNkJBQ25DSSxhQUFlSixRQUFRLGlCQUk3QixNQUFNSyxnQkFBZ0JOLHNCQUFzQk8sb0JBSXhDQyxjQUNJQyxNQUFNUCxpQkFBaUJRLGVBQWVKLFFBQVNBLFFBQVFLLFVBQVdOLGFBQWFPLFdBQVdDLE9BQVFWLGdCQUFnQlcsY0FBY0MsZUFLcElQLGlCQUFpQlEsS0FBTUMsTUFBT0MsU0FDMUIsSUFBSW5CLE1BQ0osTUFBTW9CLEtBQUVBLEtBQU1DLE1BQU9DLGVBQWtCbEIsZ0JBQWdCVyxjQUFjUSxpQkFBaUJOLEtBQU1DLE1BQU9DLFNBQ25HLElBQUlFLE1BQVFDLGNBU1osT0FSS0QsUUFDc0IsaUJBQVpELEtBQUssS0FDVHBCLE1BQUFBLE1BQU9xQixNQUFBQSxPQUFVZCxRQUFRaUIsWUFBWUosS0FBSyxLQUc3Q0MsU0FBV0oscUNBR1osQ0FBRWpCLE1BQUFBLE1BQU9xQixNQUFBQSxPQUtwQlosbUJBQW1CZ0IsS0FDZixJQUFJQyxPQUNKLE1BQVExQixNQUFPMkIsT0FBUU4sTUFBT08sWUFBZXZCLHlCQUF5QndCLHNCQUFzQkMsU0FBU0wsS0FDckcsSUFBSUosTUFBUU8sV0FDWixJQUFLUCxNQUNELElBQ0lLLE9BQVNDLE9BQU9JLFNBRXBCLE1BQU9DLEdBQ0hYLE1BQVEseURBR2hCLE1BQU8sQ0FBRXJCLE1BQU8wQixPQUFRTCxNQUFBQSxRQUdoQ3RCLFFBQVFRLFFBQVVBIiwiZmlsZSI6Ii9ob21lL3ZzdHMvd29yay8xL3MvbGlicmFyaWVzL2FkYXB0aXZlLWV4cHJlc3Npb25zL2xpYi9idWlsdGluRnVuY3Rpb25zL3VyaUhvc3QuanMifQ==