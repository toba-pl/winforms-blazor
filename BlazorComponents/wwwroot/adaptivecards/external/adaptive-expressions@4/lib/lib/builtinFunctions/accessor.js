"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const expressionEvaluator_1=require(180),expressionType_1=require(192),functionUtils_1=require(196),functionUtils_internal_1=require(195),simpleObjectMemory_1=require(202),returnType_1=require(213);class Accessor extends expressionEvaluator_1.ExpressionEvaluator{constructor(){super(expressionType_1.ExpressionType.Accessor,Accessor.evaluator,returnType_1.ReturnType.Object,Accessor.validator)}static evaluator(expression,state,options){const{path:path,left:left,error:error}=functionUtils_1.FunctionUtils.tryAccumulatePath(expression,state,options);if(error)return{value:void 0,error:error};if(null==left)return{value:functionUtils_internal_1.InternalFunctionUtils.wrapGetValue(state,path,options),error:void 0};{const{value:newScope,error:err}=left.tryEvaluate(state,options);return err?{value:void 0,error:err}:{value:functionUtils_internal_1.InternalFunctionUtils.wrapGetValue(new simpleObjectMemory_1.SimpleObjectMemory(newScope),path,options),error:void 0}}}static validator(expression){const children=expression.children;if(0===children.length||children[0].type!==expressionType_1.ExpressionType.Constant||children[0].returnType!==returnType_1.ReturnType.String)throw new Error(`${expression} must have a string as first argument.`);if(children.length>2)throw new Error(`${expression} has more than 2 children.`);if(2===children.length&&0==(children[1].returnType&returnType_1.ReturnType.Object))throw new Error(`${expression} must have an object as its second argument.`)}}exports.Accessor=Accessor;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY2Vzc29yLmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZXhwcmVzc2lvbkV2YWx1YXRvcl8xIiwicmVxdWlyZSIsImV4cHJlc3Npb25UeXBlXzEiLCJmdW5jdGlvblV0aWxzXzEiLCJmdW5jdGlvblV0aWxzX2ludGVybmFsXzEiLCJzaW1wbGVPYmplY3RNZW1vcnlfMSIsInJldHVyblR5cGVfMSIsIkFjY2Vzc29yIiwiRXhwcmVzc2lvbkV2YWx1YXRvciIsIltvYmplY3QgT2JqZWN0XSIsInN1cGVyIiwiRXhwcmVzc2lvblR5cGUiLCJldmFsdWF0b3IiLCJSZXR1cm5UeXBlIiwidmFsaWRhdG9yIiwiZXhwcmVzc2lvbiIsInN0YXRlIiwib3B0aW9ucyIsInBhdGgiLCJsZWZ0IiwiZXJyb3IiLCJGdW5jdGlvblV0aWxzIiwidHJ5QWNjdW11bGF0ZVBhdGgiLCJ1bmRlZmluZWQiLCJJbnRlcm5hbEZ1bmN0aW9uVXRpbHMiLCJ3cmFwR2V0VmFsdWUiLCJuZXdTY29wZSIsImVyciIsInRyeUV2YWx1YXRlIiwiU2ltcGxlT2JqZWN0TWVtb3J5IiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJ0eXBlIiwiQ29uc3RhbnQiLCJyZXR1cm5UeXBlIiwiU3RyaW5nIiwiRXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBLGFBUUFBLE9BQU9DLGVBQWVDLFFBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RELE1BQU1DLHNCQUF3QkMsUUFBUSwwQkFDaENDLGlCQUFtQkQsUUFBUSxxQkFDM0JFLGdCQUFrQkYsUUFBUSxvQkFDMUJHLHlCQUEyQkgsUUFBUSw2QkFDbkNJLHFCQUF1QkosUUFBUSxnQ0FDL0JLLGFBQWVMLFFBQVEsaUJBSTdCLE1BQU1NLGlCQUFpQlAsc0JBQXNCUSxvQkFJekNDLGNBQ0lDLE1BQU1SLGlCQUFpQlMsZUFBZUosU0FBVUEsU0FBU0ssVUFBV04sYUFBYU8sV0FBV2pCLE9BQVFXLFNBQVNPLFdBS2pITCxpQkFBaUJNLFdBQVlDLE1BQU9DLFNBQ2hDLE1BQU1DLEtBQUVBLEtBQUlDLEtBQUVBLEtBQUlDLE1BQUVBLE9BQVVqQixnQkFBZ0JrQixjQUFjQyxrQkFBa0JQLFdBQVlDLE1BQU9DLFNBQ2pHLEdBQUlHLE1BQ0EsTUFBTyxDQUFFckIsV0FBT3dCLEVBQVdILE1BQUFBLE9BRS9CLEdBQVksTUFBUkQsS0FFQSxNQUFPLENBQUVwQixNQUFPSyx5QkFBeUJvQixzQkFBc0JDLGFBQWFULE1BQU9FLEtBQU1ELFNBQVVHLFdBQU9HLEdBRXpHLENBQ0QsTUFBUXhCLE1BQU8yQixTQUFVTixNQUFPTyxLQUFRUixLQUFLUyxZQUFZWixNQUFPQyxTQUNoRSxPQUFJVSxJQUNPLENBQUU1QixXQUFPd0IsRUFBV0gsTUFBT08sS0FFL0IsQ0FDSDVCLE1BQU9LLHlCQUF5Qm9CLHNCQUFzQkMsYUFBYSxJQUFJcEIscUJBQXFCd0IsbUJBQW1CSCxVQUFXUixLQUFNRCxTQUNoSUcsV0FBT0csSUFPbkJkLGlCQUFpQk0sWUFDYixNQUFNZSxTQUFXZixXQUFXZSxTQUM1QixHQUF3QixJQUFwQkEsU0FBU0MsUUFDVEQsU0FBUyxHQUFHRSxPQUFTOUIsaUJBQWlCUyxlQUFlc0IsVUFDckRILFNBQVMsR0FBR0ksYUFBZTVCLGFBQWFPLFdBQVdzQixPQUNuRCxNQUFNLElBQUlDLFNBQVNyQixvREFFdkIsR0FBSWUsU0FBU0MsT0FBUyxFQUNsQixNQUFNLElBQUlLLFNBQVNyQix3Q0FFdkIsR0FBd0IsSUFBcEJlLFNBQVNDLFFBQThFLElBQTdERCxTQUFTLEdBQUdJLFdBQWE1QixhQUFhTyxXQUFXakIsUUFDM0UsTUFBTSxJQUFJd0MsU0FBU3JCLDJEQUkvQmpCLFFBQVFTLFNBQVdBIiwiZmlsZSI6Ii9ob21lL3ZzdHMvd29yay8xL3MvbGlicmFyaWVzL2FkYXB0aXZlLWV4cHJlc3Npb25zL2xpYi9idWlsdGluRnVuY3Rpb25zL2FjY2Vzc29yLmpzIn0=