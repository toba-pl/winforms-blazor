"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const expressionEvaluator_1=require(180),expressionType_1=require(192),functionUtils_1=require(196),functionUtils_internal_1=require(195),returnType_1=require(213);class UriPort extends expressionEvaluator_1.ExpressionEvaluator{constructor(){super(expressionType_1.ExpressionType.UriPort,UriPort.evaluator,returnType_1.ReturnType.Number,functionUtils_1.FunctionUtils.validateUnary)}static evaluator(expr,state,options){let value;const{args:args,error:childrenError}=functionUtils_1.FunctionUtils.evaluateChildren(expr,state,options);let error=childrenError;return error||("string"==typeof args[0]?({value:value,error:error}=UriPort.evalUriPort(args[0])):error=`${expr} should contain a URI string.`),{value:value,error:error}}static evalUriPort(uri){let result;const{value:parsed,error:parseError}=functionUtils_internal_1.InternalFunctionUtils.parseUri(uri);let error=parseError;if(!error)try{result=parseInt(parsed.port)}catch(e){error="invalid operation, input uri should be an absolute URI"}return{value:result,error:error}}}exports.UriPort=UriPort;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVyaVBvcnQuanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJleHByZXNzaW9uRXZhbHVhdG9yXzEiLCJyZXF1aXJlIiwiZXhwcmVzc2lvblR5cGVfMSIsImZ1bmN0aW9uVXRpbHNfMSIsImZ1bmN0aW9uVXRpbHNfaW50ZXJuYWxfMSIsInJldHVyblR5cGVfMSIsIlVyaVBvcnQiLCJFeHByZXNzaW9uRXZhbHVhdG9yIiwiW29iamVjdCBPYmplY3RdIiwic3VwZXIiLCJFeHByZXNzaW9uVHlwZSIsImV2YWx1YXRvciIsIlJldHVyblR5cGUiLCJOdW1iZXIiLCJGdW5jdGlvblV0aWxzIiwidmFsaWRhdGVVbmFyeSIsImV4cHIiLCJzdGF0ZSIsIm9wdGlvbnMiLCJhcmdzIiwiZXJyb3IiLCJjaGlsZHJlbkVycm9yIiwiZXZhbHVhdGVDaGlsZHJlbiIsImV2YWxVcmlQb3J0IiwidXJpIiwicmVzdWx0IiwicGFyc2VkIiwicGFyc2VFcnJvciIsIkludGVybmFsRnVuY3Rpb25VdGlscyIsInBhcnNlVXJpIiwicGFyc2VJbnQiLCJwb3J0IiwiZSJdLCJtYXBwaW5ncyI6IkFBQUEsYUFRQUEsT0FBT0MsZUFBZUMsUUFBUyxhQUFjLENBQUVDLE9BQU8sSUFDdEQsTUFBTUMsc0JBQXdCQyxRQUFRLDBCQUNoQ0MsaUJBQW1CRCxRQUFRLHFCQUMzQkUsZ0JBQWtCRixRQUFRLG9CQUMxQkcseUJBQTJCSCxRQUFRLDZCQUNuQ0ksYUFBZUosUUFBUSxpQkFJN0IsTUFBTUssZ0JBQWdCTixzQkFBc0JPLG9CQUl4Q0MsY0FDSUMsTUFBTVAsaUJBQWlCUSxlQUFlSixRQUFTQSxRQUFRSyxVQUFXTixhQUFhTyxXQUFXQyxPQUFRVixnQkFBZ0JXLGNBQWNDLGVBS3BJUCxpQkFBaUJRLEtBQU1DLE1BQU9DLFNBQzFCLElBQUluQixNQUNKLE1BQU1vQixLQUFFQSxLQUFNQyxNQUFPQyxlQUFrQmxCLGdCQUFnQlcsY0FBY1EsaUJBQWlCTixLQUFNQyxNQUFPQyxTQUNuRyxJQUFJRSxNQUFRQyxjQVNaLE9BUktELFFBQ3NCLGlCQUFaRCxLQUFLLEtBQ1RwQixNQUFBQSxNQUFPcUIsTUFBQUEsT0FBVWQsUUFBUWlCLFlBQVlKLEtBQUssS0FHN0NDLFNBQVdKLHFDQUdaLENBQUVqQixNQUFBQSxNQUFPcUIsTUFBQUEsT0FLcEJaLG1CQUFtQmdCLEtBQ2YsSUFBSUMsT0FDSixNQUFRMUIsTUFBTzJCLE9BQVFOLE1BQU9PLFlBQWV2Qix5QkFBeUJ3QixzQkFBc0JDLFNBQVNMLEtBQ3JHLElBQUlKLE1BQVFPLFdBQ1osSUFBS1AsTUFDRCxJQUNJSyxPQUFTSyxTQUFTSixPQUFPSyxNQUU3QixNQUFPQyxHQUNIWixNQUFRLHlEQUdoQixNQUFPLENBQUVyQixNQUFPMEIsT0FBUUwsTUFBQUEsUUFHaEN0QixRQUFRUSxRQUFVQSIsImZpbGUiOiIvaG9tZS92c3RzL3dvcmsvMS9zL2xpYnJhcmllcy9hZGFwdGl2ZS1leHByZXNzaW9ucy9saWIvYnVpbHRpbkZ1bmN0aW9ucy91cmlQb3J0LmpzIn0=