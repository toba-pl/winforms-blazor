"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const d3_format_1=require(399),expressionEvaluator_1=require(180),expressionType_1=require(192),functionUtils_1=require(196),returnType_1=require(213),localeInfo_1=require(200),functionUtils_internal_1=require(195);class String extends expressionEvaluator_1.ExpressionEvaluator{constructor(){super(expressionType_1.ExpressionType.String,String.evaluator(),returnType_1.ReturnType.String,String.validator)}static evaluator(){return functionUtils_1.FunctionUtils.applyWithOptionsAndError((args,options)=>{let result,locale=options.locale?options.locale:Intl.DateTimeFormat().resolvedOptions().locale;if(locale=functionUtils_1.FunctionUtils.determineLocale(args,2,locale),"string"==typeof args[0])result=args[0];else if(functionUtils_1.FunctionUtils.isNumber(args[0])){const formatLocale=localeInfo_1.localeInfo[locale],tempStrValue=args[0].toString();let precision=0;tempStrValue.includes(".")&&(precision=tempStrValue.split(".")[1].length);const fixedNotation=`,.${precision}f`;result=void 0!==formatLocale?d3_format_1.formatLocale(formatLocale).format(fixedNotation)(args[0]):d3_format_1.format(fixedNotation)(args[0])}else result=args[0]instanceof Date?args[0].toLocaleDateString(locale):args[0]instanceof Uint8Array?functionUtils_internal_1.InternalFunctionUtils.getTextDecoder().decode(args[0]):functionUtils_internal_1.InternalFunctionUtils.commonStringify(args[0]);return{value:result,error:void 0}})}static validator(expr){functionUtils_1.FunctionUtils.validateOrder(expr,[returnType_1.ReturnType.String],returnType_1.ReturnType.Object)}}exports.String=String;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0cmluZy5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImQzX2Zvcm1hdF8xIiwicmVxdWlyZSIsImV4cHJlc3Npb25FdmFsdWF0b3JfMSIsImV4cHJlc3Npb25UeXBlXzEiLCJmdW5jdGlvblV0aWxzXzEiLCJyZXR1cm5UeXBlXzEiLCJsb2NhbGVJbmZvXzEiLCJmdW5jdGlvblV0aWxzX2ludGVybmFsXzEiLCJTdHJpbmciLCJFeHByZXNzaW9uRXZhbHVhdG9yIiwiW29iamVjdCBPYmplY3RdIiwic3VwZXIiLCJFeHByZXNzaW9uVHlwZSIsImV2YWx1YXRvciIsIlJldHVyblR5cGUiLCJ2YWxpZGF0b3IiLCJGdW5jdGlvblV0aWxzIiwiYXBwbHlXaXRoT3B0aW9uc0FuZEVycm9yIiwiYXJncyIsIm9wdGlvbnMiLCJyZXN1bHQiLCJsb2NhbGUiLCJJbnRsIiwiRGF0ZVRpbWVGb3JtYXQiLCJyZXNvbHZlZE9wdGlvbnMiLCJkZXRlcm1pbmVMb2NhbGUiLCJpc051bWJlciIsImZvcm1hdExvY2FsZSIsImxvY2FsZUluZm8iLCJ0ZW1wU3RyVmFsdWUiLCJ0b1N0cmluZyIsInByZWNpc2lvbiIsImluY2x1ZGVzIiwic3BsaXQiLCJsZW5ndGgiLCJmaXhlZE5vdGF0aW9uIiwidW5kZWZpbmVkIiwiZm9ybWF0IiwiRGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIlVpbnQ4QXJyYXkiLCJJbnRlcm5hbEZ1bmN0aW9uVXRpbHMiLCJnZXRUZXh0RGVjb2RlciIsImRlY29kZSIsImNvbW1vblN0cmluZ2lmeSIsImVycm9yIiwiZXhwciIsInZhbGlkYXRlT3JkZXIiXSwibWFwcGluZ3MiOiJBQUFBLGFBUUFBLE9BQU9DLGVBQWVDLFFBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RELE1BQU1DLFlBQWNDLFFBQVEsYUFDdEJDLHNCQUF3QkQsUUFBUSwwQkFDaENFLGlCQUFtQkYsUUFBUSxxQkFDM0JHLGdCQUFrQkgsUUFBUSxvQkFDMUJJLGFBQWVKLFFBQVEsaUJBQ3ZCSyxhQUFlTCxRQUFRLGlCQUN2Qk0seUJBQTJCTixRQUFRLDZCQUl6QyxNQUFNTyxlQUFlTixzQkFBc0JPLG9CQUl2Q0MsY0FDSUMsTUFBTVIsaUJBQWlCUyxlQUFlSixPQUFRQSxPQUFPSyxZQUFhUixhQUFhUyxXQUFXTixPQUFRQSxPQUFPTyxXQUs3R0wsbUJBQ0ksT0FBT04sZ0JBQWdCWSxjQUFjQyx5QkFBeUIsQ0FBQ0MsS0FBTUMsV0FDakUsSUFBSUMsT0FFQUMsT0FBU0YsUUFBUUUsT0FBU0YsUUFBUUUsT0FBU0MsS0FBS0MsaUJBQWlCQyxrQkFBa0JILE9BS25GLEdBSEFBLE9BQVNqQixnQkFBZ0JZLGNBQWNTLGdCQUFnQlAsS0FBTSxFQUFHRyxRQUd6QyxpQkFBWkgsS0FBSyxHQUNaRSxPQUFTRixLQUFLLFFBRWIsR0FBSWQsZ0JBQWdCWSxjQUFjVSxTQUFTUixLQUFLLElBQUssQ0FDdEQsTUFBTVMsYUFBZXJCLGFBQWFzQixXQUFXUCxRQUN2Q1EsYUFBZVgsS0FBSyxHQUFHWSxXQUM3QixJQUFJQyxVQUFZLEVBQ1pGLGFBQWFHLFNBQVMsT0FDdEJELFVBQVlGLGFBQWFJLE1BQU0sS0FBSyxHQUFHQyxRQUUzQyxNQUFNQyxtQkFBcUJKLGFBRXZCWCxZQURpQmdCLElBQWpCVCxhQUNTM0IsWUFBWTJCLGFBQWFBLGNBQWNVLE9BQU9GLGNBQTlDbkMsQ0FBNkRrQixLQUFLLElBR2xFbEIsWUFBWXFDLE9BQU9GLGNBQW5CbkMsQ0FBa0NrQixLQUFLLFNBSXBERSxPQURLRixLQUFLLGFBQWNvQixLQUNmcEIsS0FBSyxHQUFHcUIsbUJBQW1CbEIsUUFFL0JILEtBQUssYUFBY3NCLFdBQ2ZqQyx5QkFBeUJrQyxzQkFBc0JDLGlCQUFpQkMsT0FBT3pCLEtBQUssSUFHNUVYLHlCQUF5QmtDLHNCQUFzQkcsZ0JBQWdCMUIsS0FBSyxJQUdyRixNQUFPLENBQUVuQixNQUFPcUIsT0FBUXlCLFdBbENwQkEsS0F3Q1puQyxpQkFBaUJvQyxNQUNiMUMsZ0JBQWdCWSxjQUFjK0IsY0FBY0QsS0FBTSxDQUFDekMsYUFBYVMsV0FBV04sUUFBU0gsYUFBYVMsV0FBV2xCLFNBR3BIRSxRQUFRVSxPQUFTQSIsImZpbGUiOiIvaG9tZS92c3RzL3dvcmsvMS9zL2xpYnJhcmllcy9hZGFwdGl2ZS1leHByZXNzaW9ucy9saWIvYnVpbHRpbkZ1bmN0aW9ucy9zdHJpbmcuanMifQ==