"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const expressionEvaluator_1=require(180),expressionType_1=require(192),functionUtils_1=require(196),functionUtils_internal_1=require(195),returnType_1=require(213);class UriPath extends expressionEvaluator_1.ExpressionEvaluator{constructor(){super(expressionType_1.ExpressionType.UriPath,UriPath.evaluator,returnType_1.ReturnType.String,functionUtils_1.FunctionUtils.validateUnary)}static evaluator(expr,state,options){let value;const{args:args,error:childrenError}=functionUtils_1.FunctionUtils.evaluateChildren(expr,state,options);let error=childrenError;return error||("string"==typeof args[0]?({value:value,error:error}=UriPath.evalUriPath(args[0])):error=`${expr} should contain a URI string.`),{value:value,error:error}}static evalUriPath(uri){let result,error=functionUtils_internal_1.InternalFunctionUtils.parseUri(uri).error;if(!error)try{result=new URL(uri).pathname}catch(e){error="invalid operation, input uri should be an absolute URI"}return{value:result,error:error}}}exports.UriPath=UriPath;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVyaVBhdGguanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJleHByZXNzaW9uRXZhbHVhdG9yXzEiLCJyZXF1aXJlIiwiZXhwcmVzc2lvblR5cGVfMSIsImZ1bmN0aW9uVXRpbHNfMSIsImZ1bmN0aW9uVXRpbHNfaW50ZXJuYWxfMSIsInJldHVyblR5cGVfMSIsIlVyaVBhdGgiLCJFeHByZXNzaW9uRXZhbHVhdG9yIiwiW29iamVjdCBPYmplY3RdIiwic3VwZXIiLCJFeHByZXNzaW9uVHlwZSIsImV2YWx1YXRvciIsIlJldHVyblR5cGUiLCJTdHJpbmciLCJGdW5jdGlvblV0aWxzIiwidmFsaWRhdGVVbmFyeSIsImV4cHIiLCJzdGF0ZSIsIm9wdGlvbnMiLCJhcmdzIiwiZXJyb3IiLCJjaGlsZHJlbkVycm9yIiwiZXZhbHVhdGVDaGlsZHJlbiIsImV2YWxVcmlQYXRoIiwidXJpIiwicmVzdWx0IiwiSW50ZXJuYWxGdW5jdGlvblV0aWxzIiwicGFyc2VVcmkiLCJVUkwiLCJwYXRobmFtZSIsImUiXSwibWFwcGluZ3MiOiJBQUFBLGFBUUFBLE9BQU9DLGVBQWVDLFFBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RELE1BQU1DLHNCQUF3QkMsUUFBUSwwQkFDaENDLGlCQUFtQkQsUUFBUSxxQkFDM0JFLGdCQUFrQkYsUUFBUSxvQkFDMUJHLHlCQUEyQkgsUUFBUSw2QkFDbkNJLGFBQWVKLFFBQVEsaUJBSTdCLE1BQU1LLGdCQUFnQk4sc0JBQXNCTyxvQkFJeENDLGNBQ0lDLE1BQU1QLGlCQUFpQlEsZUFBZUosUUFBU0EsUUFBUUssVUFBV04sYUFBYU8sV0FBV0MsT0FBUVYsZ0JBQWdCVyxjQUFjQyxlQUtwSVAsaUJBQWlCUSxLQUFNQyxNQUFPQyxTQUMxQixJQUFJbkIsTUFDSixNQUFNb0IsS0FBRUEsS0FBTUMsTUFBT0MsZUFBa0JsQixnQkFBZ0JXLGNBQWNRLGlCQUFpQk4sS0FBTUMsTUFBT0MsU0FDbkcsSUFBSUUsTUFBUUMsY0FTWixPQVJLRCxRQUNzQixpQkFBWkQsS0FBSyxLQUNUcEIsTUFBQUEsTUFBT3FCLE1BQUFBLE9BQVVkLFFBQVFpQixZQUFZSixLQUFLLEtBRzdDQyxTQUFXSixxQ0FHWixDQUFFakIsTUFBQUEsTUFBT3FCLE1BQUFBLE9BS3BCWixtQkFBbUJnQixLQUNmLElBQUlDLE9BQ0FMLE1BQVFoQix5QkFBeUJzQixzQkFBc0JDLFNBQVNILEtBQUtKLE1BQ3pFLElBQUtBLE1BQ0QsSUFFSUssT0FEZSxJQUFJRyxJQUFJSixLQUNQSyxTQUVwQixNQUFPQyxHQUNIVixNQUFRLHlEQUdoQixNQUFPLENBQUVyQixNQUFPMEIsT0FBUUwsTUFBQUEsUUFHaEN0QixRQUFRUSxRQUFVQSIsImZpbGUiOiIvaG9tZS92c3RzL3dvcmsvMS9zL2xpYnJhcmllcy9hZGFwdGl2ZS1leHByZXNzaW9ucy9saWIvYnVpbHRpbkZ1bmN0aW9ucy91cmlQYXRoLmpzIn0=