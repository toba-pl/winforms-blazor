"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const constant_1=require(167),expression_1=require(179),expressionEvaluator_1=require(180),expressionType_1=require(192),functionUtils_1=require(196),returnType_1=require(213);class StringOrValue extends expressionEvaluator_1.ExpressionEvaluator{constructor(){super(expressionType_1.ExpressionType.StringOrValue,StringOrValue.evaluator,returnType_1.ReturnType.Object,functionUtils_1.FunctionUtils.validateUnaryString)}static evaluator(expression,state,options){const{value:stringInput,error:childrenError}=expression.children[0].tryEvaluate(state,options);let error=childrenError;if("string"!=typeof stringInput&&(error="Parameter should be a string."),!error){const expr=expression_1.Expression.parse("`"+stringInput+"`");if(2===expr.children.length){const firstChild=expr.children[0],secondChild=expr.children[1];if(firstChild instanceof constant_1.Constant&&""===firstChild.value.toString()&&!(secondChild instanceof constant_1.Constant))return secondChild.tryEvaluate(state,options)}return expr.tryEvaluate(state,options)}return{value:void 0,error:error}}}exports.StringOrValue=StringOrValue;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0cmluZ09yVmFsdWUuanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJjb25zdGFudF8xIiwicmVxdWlyZSIsImV4cHJlc3Npb25fMSIsImV4cHJlc3Npb25FdmFsdWF0b3JfMSIsImV4cHJlc3Npb25UeXBlXzEiLCJmdW5jdGlvblV0aWxzXzEiLCJyZXR1cm5UeXBlXzEiLCJTdHJpbmdPclZhbHVlIiwiRXhwcmVzc2lvbkV2YWx1YXRvciIsIltvYmplY3QgT2JqZWN0XSIsInN1cGVyIiwiRXhwcmVzc2lvblR5cGUiLCJldmFsdWF0b3IiLCJSZXR1cm5UeXBlIiwiRnVuY3Rpb25VdGlscyIsInZhbGlkYXRlVW5hcnlTdHJpbmciLCJleHByZXNzaW9uIiwic3RhdGUiLCJvcHRpb25zIiwic3RyaW5nSW5wdXQiLCJlcnJvciIsImNoaWxkcmVuRXJyb3IiLCJjaGlsZHJlbiIsInRyeUV2YWx1YXRlIiwiZXhwciIsIkV4cHJlc3Npb24iLCJwYXJzZSIsImxlbmd0aCIsImZpcnN0Q2hpbGQiLCJzZWNvbmRDaGlsZCIsIkNvbnN0YW50IiwidG9TdHJpbmciLCJ1bmRlZmluZWQiXSwibWFwcGluZ3MiOiJBQUFBLGFBUUFBLE9BQU9DLGVBQWVDLFFBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RELE1BQU1DLFdBQWFDLFFBQVEsZUFDckJDLGFBQWVELFFBQVEsaUJBQ3ZCRSxzQkFBd0JGLFFBQVEsMEJBQ2hDRyxpQkFBbUJILFFBQVEscUJBQzNCSSxnQkFBa0JKLFFBQVEsb0JBQzFCSyxhQUFlTCxRQUFRLGlCQU03QixNQUFNTSxzQkFBc0JKLHNCQUFzQkssb0JBSTlDQyxjQUNJQyxNQUFNTixpQkFBaUJPLGVBQWVKLGNBQWVBLGNBQWNLLFVBQVdOLGFBQWFPLFdBQVdqQixPQUFRUyxnQkFBZ0JTLGNBQWNDLHFCQUtoSk4saUJBQWlCTyxXQUFZQyxNQUFPQyxTQUNoQyxNQUFRbkIsTUFBT29CLFlBQWFDLE1BQU9DLGVBQWtCTCxXQUFXTSxTQUFTLEdBQUdDLFlBQVlOLE1BQU9DLFNBQy9GLElBQUlFLE1BQVFDLGNBSVosR0FIMkIsaUJBQWhCRixjQUNQQyxNQUFRLGtDQUVQQSxNQUFPLENBQ1IsTUFBTUksS0FBT3RCLGFBQWF1QixXQUFXQyxNQUFNLElBQU1QLFlBQWMsS0FDL0QsR0FBNkIsSUFBekJLLEtBQUtGLFNBQVNLLE9BQWMsQ0FDNUIsTUFBTUMsV0FBYUosS0FBS0YsU0FBUyxHQUMzQk8sWUFBY0wsS0FBS0YsU0FBUyxHQUlsQyxHQUFJTSxzQkFBc0I1QixXQUFXOEIsVUFDRSxLQUFoQ0YsV0FBVzdCLE1BQU1nQyxjQUNmRix1QkFBdUI3QixXQUFXOEIsVUFDdkMsT0FBT0QsWUFBWU4sWUFBWU4sTUFBT0MsU0FHOUMsT0FBT00sS0FBS0QsWUFBWU4sTUFBT0MsU0FFbkMsTUFBTyxDQUFFbkIsV0FBT2lDLEVBQVdaLE1BQUFBLFFBR25DdEIsUUFBUVMsY0FBZ0JBIiwiZmlsZSI6Ii9ob21lL3ZzdHMvd29yay8xL3MvbGlicmFyaWVzL2FkYXB0aXZlLWV4cHJlc3Npb25zL2xpYi9idWlsdGluRnVuY3Rpb25zL3N0cmluZ09yVmFsdWUuanMifQ==