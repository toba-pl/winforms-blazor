"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const dayjs_1=__importDefault(require(400)),utc_1=__importDefault(require(403));dayjs_1.default.extend(utc_1.default);const expressionEvaluator_1=require(180),expressionType_1=require(192),functionUtils_1=require(196),functionUtils_internal_1=require(195),returnType_1=require(213);class FormatDateTime extends expressionEvaluator_1.ExpressionEvaluator{constructor(){super(expressionType_1.ExpressionType.FormatDateTime,FormatDateTime.evaluator(),returnType_1.ReturnType.String,FormatDateTime.validator)}static evaluator(){return functionUtils_1.FunctionUtils.applyWithOptionsAndError((args,options)=>{let error,value,arg=args[0],locale=options.locale?options.locale:Intl.DateTimeFormat().resolvedOptions().locale,format=functionUtils_1.FunctionUtils.DefaultDateTimeFormat;if("string"==typeof arg?error=functionUtils_internal_1.InternalFunctionUtils.verifyTimestamp(arg.toString()):arg=arg.toISOString(),!error){let dateString;if(({format:format,locale:locale}=functionUtils_1.FunctionUtils.determineFormatAndLocale(args,3,format,locale)),arg.endsWith("Z"))dateString=new Date(arg).toISOString();else try{dateString=new Date(`${arg}Z`).toISOString()}catch(err){dateString=new Date(arg).toISOString()}value=dayjs_1.default(dateString).locale(locale).utc().format(format)}return{value:value,error:error}})}static validator(expression){functionUtils_1.FunctionUtils.validateOrder(expression,[returnType_1.ReturnType.String,returnType_1.ReturnType.String],returnType_1.ReturnType.String)}}exports.FormatDateTime=FormatDateTime;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm1hdERhdGVUaW1lLmpzIl0sIm5hbWVzIjpbIl9faW1wb3J0RGVmYXVsdCIsInRoaXMiLCJtb2QiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGF5anNfMSIsInJlcXVpcmUiLCJ1dGNfMSIsImV4dGVuZCIsImV4cHJlc3Npb25FdmFsdWF0b3JfMSIsImV4cHJlc3Npb25UeXBlXzEiLCJmdW5jdGlvblV0aWxzXzEiLCJmdW5jdGlvblV0aWxzX2ludGVybmFsXzEiLCJyZXR1cm5UeXBlXzEiLCJGb3JtYXREYXRlVGltZSIsIkV4cHJlc3Npb25FdmFsdWF0b3IiLCJbb2JqZWN0IE9iamVjdF0iLCJzdXBlciIsIkV4cHJlc3Npb25UeXBlIiwiZXZhbHVhdG9yIiwiUmV0dXJuVHlwZSIsIlN0cmluZyIsInZhbGlkYXRvciIsIkZ1bmN0aW9uVXRpbHMiLCJhcHBseVdpdGhPcHRpb25zQW5kRXJyb3IiLCJhcmdzIiwib3B0aW9ucyIsImVycm9yIiwiYXJnIiwibG9jYWxlIiwiSW50bCIsIkRhdGVUaW1lRm9ybWF0IiwicmVzb2x2ZWRPcHRpb25zIiwiZm9ybWF0IiwiRGVmYXVsdERhdGVUaW1lRm9ybWF0IiwiSW50ZXJuYWxGdW5jdGlvblV0aWxzIiwidmVyaWZ5VGltZXN0YW1wIiwidG9TdHJpbmciLCJ0b0lTT1N0cmluZyIsImRhdGVTdHJpbmciLCJkZXRlcm1pbmVGb3JtYXRBbmRMb2NhbGUiLCJlbmRzV2l0aCIsIkRhdGUiLCJlcnIiLCJ1dGMiLCJleHByZXNzaW9uIiwidmFsaWRhdGVPcmRlciJdLCJtYXBwaW5ncyI6IkFBQUEsYUFRQSxJQUFJQSxnQkFBbUJDLE1BQVFBLEtBQUtELGlCQUFvQixTQUFVRSxLQUM5RCxPQUFRQSxLQUFPQSxJQUFJQyxXQUFjRCxJQUFNLENBQUVFLFFBQVdGLE1BRXhERyxPQUFPQyxlQUFlQyxRQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0RCxNQUFNQyxRQUFVVCxnQkFBZ0JVLFFBQVEsVUFDbENDLE1BQVFYLGdCQUFnQlUsUUFBUSxxQkFDdENELFFBQVFMLFFBQVFRLE9BQU9ELE1BQU1QLFNBQzdCLE1BQU1TLHNCQUF3QkgsUUFBUSwwQkFDaENJLGlCQUFtQkosUUFBUSxxQkFDM0JLLGdCQUFrQkwsUUFBUSxvQkFDMUJNLHlCQUEyQk4sUUFBUSw2QkFDbkNPLGFBQWVQLFFBQVEsaUJBSzdCLE1BQU1RLHVCQUF1Qkwsc0JBQXNCTSxvQkFJL0NDLGNBQ0lDLE1BQU1QLGlCQUFpQlEsZUFBZUosZUFBZ0JBLGVBQWVLLFlBQWFOLGFBQWFPLFdBQVdDLE9BQVFQLGVBQWVRLFdBS3JJTixtQkFDSSxPQUFPTCxnQkFBZ0JZLGNBQWNDLHlCQUF5QixDQUFDQyxLQUFNQyxXQUNqRSxJQUFJQyxNQVVBdkIsTUFUQXdCLElBQU1ILEtBQUssR0FDWEksT0FBU0gsUUFBUUcsT0FBU0gsUUFBUUcsT0FBU0MsS0FBS0MsaUJBQWlCQyxrQkFBa0JILE9BQ25GSSxPQUFTdEIsZ0JBQWdCWSxjQUFjVyxzQkFRM0MsR0FQbUIsaUJBQVJOLElBQ1BELE1BQVFmLHlCQUF5QnVCLHNCQUFzQkMsZ0JBQWdCUixJQUFJUyxZQUczRVQsSUFBTUEsSUFBSVUsZUFHVFgsTUFBTyxDQUVSLElBQUlZLFdBQ0osS0FGR04sT0FBQUEsT0FBUUosT0FBQUEsUUFBV2xCLGdCQUFnQlksY0FBY2lCLHlCQUF5QmYsS0FBTSxFQUFHUSxPQUFRSixTQUUxRkQsSUFBSWEsU0FBUyxLQUNiRixXQUFhLElBQUlHLEtBQUtkLEtBQUtVLG1CQUczQixJQUNJQyxXQUFhLElBQUlHLFFBQVFkLFFBQVFVLGNBRXJDLE1BQU9LLEtBQ0hKLFdBQWEsSUFBSUcsS0FBS2QsS0FBS1UsY0FHbkNsQyxNQUFRQyxRQUFRTCxRQUFRdUMsWUFBWVYsT0FBT0EsUUFBUWUsTUFBTVgsT0FBT0EsUUFFcEUsTUFBTyxDQUFFN0IsTUFBQUEsTUFBT3VCLE1BQUFBLFNBTXhCWCxpQkFBaUI2QixZQUNibEMsZ0JBQWdCWSxjQUFjdUIsY0FBY0QsV0FBWSxDQUFDaEMsYUFBYU8sV0FBV0MsT0FBUVIsYUFBYU8sV0FBV0MsUUFBU1IsYUFBYU8sV0FBV0MsU0FHMUpsQixRQUFRVyxlQUFpQkEiLCJmaWxlIjoiL2hvbWUvdnN0cy93b3JrLzEvcy9saWJyYXJpZXMvYWRhcHRpdmUtZXhwcmVzc2lvbnMvbGliL2J1aWx0aW5GdW5jdGlvbnMvZm9ybWF0RGF0ZVRpbWUuanMifQ==